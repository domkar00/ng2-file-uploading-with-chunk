/**
 * ng2-file-uploading-with-chunk - ng2-file-uploading-with-chunk
 * @version v1.0.16
 * @author Oleksii Trekhleb
 * @link https://github.com/trekhleb/angular-library-seed#readme
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common"],e):"object"==typeof exports?exports["ng2-file-uploading-with-chunk"]=e(require("@angular/core"),require("@angular/common")):t["ng2-file-uploading-with-chunk"]=e(t.ng.core,t.ng.common)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(e,o){e.exports=t},function(t,e,o){"use strict";function i(t){return File&&t instanceof File}Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),r=o(2),s=o(4),p=o(8),a=function(){function t(t){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.chunkSize=null,this.currentChunkParam="current_chunk",this.totalChunkParam="total_chunks",this.chunkMethod="PUT",this.options={autoUpload:!1,isHTML5:!0,filters:[],chunkSize:null,currentChunkParam:"current_chunk",totalChunkParam:"total_chunks",chunkMethod:"PUT",removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(t){return t._file},formatDataFunctionIsAsync:!1},this.setOptions(t),this.response=new n.EventEmitter}return t.prototype.setOptions=function(t){this.options=Object.assign(this.options,t),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.chunkSize=this.options.chunkSize,this.currentChunkParam=this.options.currentChunkParam,this.totalChunkParam=this.options.totalChunkParam,this.chunkMethod=this.options.chunkMethod,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var e=0;e<this.queue.length;e++)this.queue[e].url=this.options.url},t.prototype.addToQueue=function(t,e,o){for(var i=this,n=[],p=0,a=t;p<a.length;p++){var u=a[p];n.push(u)}var l=this._getFilters(o),h=this.queue.length,c=[];n.map(function(t){e||(e=i.options);var o=new r.FileLikeObject(t);if(i._isValidFile(o,l,e)){var n=new s.FileItem(i,t,e);c.push(n),i.queue.push(n),i._onAfterAddingFile(n)}else{var p=l[i._failFilterIndex];i._onWhenAddingFileFailed(o,p,e)}}),this.queue.length!==h&&(this._onAfterAddingAll(c),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},t.prototype.removeFromQueue=function(t){var e=this.getIndexOfItem(t),o=this.queue[e];o.isUploading&&o.cancel(),this.queue.splice(e,1),this.progress=this._getTotalProgress()},t.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},t.prototype.uploadItem=function(t){var e=this.getIndexOfItem(t),o=this.queue[e],i=this.options.isHTML5?"_xhrTransport":"_iframeTransport";o._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](o))},t.prototype.cancelItem=function(t){var e=this.getIndexOfItem(t),o=this.queue[e],i=this.options.isHTML5?o._xhr:o._form;o&&o.isUploading&&i.abort()},t.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(t){return!t.isUploading});t.length&&(t.map(function(t){return t._prepareToUploading()}),t[0].upload())},t.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(t){return t.cancel()})},t.prototype.isFile=function(t){return i(t)},t.prototype.isFileLikeObject=function(t){return t instanceof r.FileLikeObject},t.prototype.getIndexOfItem=function(t){return"number"==typeof t?t:this.queue.indexOf(t)},t.prototype.getNotUploadedItems=function(){return this.queue.filter(function(t){return!t.isUploaded})},t.prototype.getReadyItems=function(){return this.queue.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},t.prototype.destroy=function(){},t.prototype.onAfterAddingAll=function(t){return{fileItems:t}},t.prototype.onBuildItemForm=function(t,e){return{fileItem:t,form:e}},t.prototype.onAfterAddingFile=function(t){return{fileItem:t}},t.prototype.onWhenAddingFileFailed=function(t,e,o){return{item:t,filter:e,options:o}},t.prototype.onBeforeUploadItem=function(t){return{fileItem:t}},t.prototype.onProgressItem=function(t,e){return{fileItem:t,progress:e}},t.prototype.onProgressAll=function(t){return{progress:t}},t.prototype.onSuccessItem=function(t,e,o,i){return{item:t,response:e,status:o,headers:i}},t.prototype.onErrorItem=function(t,e,o,i){return{item:t,response:e,status:o,headers:i}},t.prototype.onCancelItem=function(t,e,o,i){return{item:t,response:e,status:o,headers:i}},t.prototype.onCompleteChunk=function(t,e,o,i){return{item:t,response:e,status:o,headers:i}},t.prototype.onCompleteItem=function(t,e,o,i){return{item:t,response:e,status:o,headers:i}},t.prototype.onCompleteAll=function(){},t.prototype._mimeTypeFilter=function(t){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(t.type))},t.prototype._fileSizeFilter=function(t){return!(this.options.maxFileSize&&t.size>this.options.maxFileSize)},t.prototype._fileTypeFilter=function(t){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(p.FileType.getMimeClass(t)))},t.prototype._onErrorItem=function(t,e,o,i){t._onError(e,o,i),this.onErrorItem(t,e,o,i)},t.prototype._onCompleteChunk=function(t,e,o,i){this.onCompleteChunk(t,e,o,i),t._onCompleteChunk(e,o,i),this.progress=this._getTotalProgress(),this._render()},t.prototype._onCompleteItem=function(t,e,o,i){t._onComplete(e,o,i),this.onCompleteItem(t,e,o,i);var n=this.getReadyItems()[0];if(this.isUploading=!1,n)return void n.upload();this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render()},t.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||void 0:t}},t.prototype._xhrAppendEvents=function(t,e){var o=this,i=this;if(t.upload.onprogress=function(t){var n=Math.round(t.lengthComputable?100*t.loaded/t.total:0);i.options.chunkSize>0&&(n=Math.round(100*(e._currentChunk-1)/e._totalChunks)+Math.round(n/e._totalChunks)),o._onProgressItem(e,n)},t.onload=function(){var i=o._parseHeaders(t.getAllResponseHeaders()),n=o._transformResponse(t.response,i),r=o._isSuccessCode(t.status)?"Success":"Error",s="_on"+r+"Item";o.options.chunkSize>0?(e._chunkUploaders.pop(),e._currentChunk>=e._totalChunks?(o[s](e,n,t.status,i),o._onCompleteItem(e,n,t.status,i)):o._onCompleteChunk(e,n,t.status,i)):(o[s](e,n,t.status,i),o._onCompleteItem(e,n,t.status,i))},t.onerror=function(){var i=o._parseHeaders(t.getAllResponseHeaders()),n=o._transformResponse(t.response,i);o._onErrorItem(e,n,t.status,i),o._onCompleteItem(e,n,t.status,i)},t.onabort=function(){var i=o._parseHeaders(t.getAllResponseHeaders()),n=o._transformResponse(t.response,i);o._onCancelItem(e,n,t.status,i),o._onCompleteItem(e,n,t.status,i)},t.open(e.method,e.url,!0),t.withCredentials=e.withCredentials,this.options.headers)for(var n=0,r=this.options.headers;n<r.length;n++){var s=r[n];t.setRequestHeader(s.name,s.value)}if(e.headers.length)for(var p=0,a=e.headers;p<a.length;p++){var s=a[p];t.setRequestHeader(s.name,s.value)}return this.authToken&&t.setRequestHeader(this.authTokenHeader,this.authToken),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&i.response.emit(t.responseText)},t},t.prototype._buildMultiPartSendable=function(t,e,o){var i=this;void 0===e&&(e=null),void 0===o&&(o=null);var n;n=new FormData,this._onBuildItemForm(t,n);var r=null;r=this.options.chunkSize>0?t.getNextChunk():t._file;var s=function(){return n.append(t.alias,r,t.file.name)};return this.options.parametersBeforeFiles||s(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(e){var o=i.options.additionalParameter[e];"string"==typeof o&&o.indexOf("{{file_name}}")>=0&&(o=o.replace("{{file_name}}",t.file.name)),n.append(e,o)}),this.options.chunkSize>0&&this.options.totalChunkParam&&n.append(this.options.totalChunkParam,t._totalChunks.toString()),this.options.chunkSize>0&&this.options.currentChunkParam&&n.append(this.options.currentChunkParam,t._currentChunk.toString()),this.options.parametersBeforeFiles&&s(),n},t.prototype._xhrTransport=function(t){var e,o=t._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(t),"number"!=typeof t._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)e=this.options.formatDataFunction(t);else{if(this.options.chunkSize>0){var i=this.options.chunkSize,n=this.options.chunkMethod,r=Math.max(Math.ceil(t._file.size/i),1),s=0,p=i;return t._chunkUploaders=[],t._currentChunk=0,t._totalChunks=r,t._onCompleteChunkCallnext=function(){++t._currentChunk>1&&(t.method=n);var e=this.uploader._buildMultiPartSendable(t,s,p),o=new XMLHttpRequest;o=this.uploader._xhrAppendEvents(o,t),t._chunkUploaders.push(o),o.send(e),s=p,p=s+i},t.createFileChunk(this.options.chunkSize),t.setIsUploading(!0),t._onCompleteChunkCallnext(),void this._render()}e=this._buildMultiPartSendable(t)}o=this._xhrAppendEvents(o,t),this.options.formatDataFunctionIsAsync?e.then(function(t){return o.send(JSON.stringify(t))}):o.send(e),this._render()},t.prototype._getTotalProgress=function(t){if(void 0===t&&(t=0),this.options.removeAfterUpload)return t;var e=this.getNotUploadedItems().length,o=e?this.queue.length-e:this.queue.length,i=100/this.queue.length,n=t*i/100;return Math.round(o*i+n)},t.prototype._getFilters=function(t){if(!t)return this.options.filters;if(Array.isArray(t))return t;if("string"==typeof t){var e=t.match(/[^\s,]+/g);return this.options.filters.filter(function(t){return-1!==e.indexOf(t.name)})}return this.options.filters},t.prototype._render=function(){},t.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},t.prototype._isValidFile=function(t,e,o){var i=this;return this._failFilterIndex=-1,!e.length||e.every(function(e){return i._failFilterIndex++,e.fn.call(i,t,o)})},t.prototype._isSuccessCode=function(t){return t>=200&&t<300||304===t},t.prototype._transformResponse=function(t,e){return t},t.prototype._parseHeaders=function(t){var e,o,i,n={};return t?(t.split("\n").map(function(t){i=t.indexOf(":"),e=t.slice(0,i).trim().toLowerCase(),o=t.slice(i+1).trim(),e&&(n[e]=n[e]?n[e]+", "+o:o)}),n):n},t.prototype._onWhenAddingFileFailed=function(t,e,o){this.onWhenAddingFileFailed(t,e,o)},t.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},t.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},t.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},t.prototype._onBuildItemForm=function(t,e){t._onBuildForm(e),this.onBuildItemForm(t,e)},t.prototype._onProgressItem=function(t,e){var o=this._getTotalProgress(e);this.progress=o,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(o),this._render()},t.prototype._onSuccessItem=function(t,e,o,i){t._onSuccess(e,o,i),this.onSuccessItem(t,e,o,i)},t.prototype._onCancelItem=function(t,e,o,i){t._onCancel(e,o,i),this.onCancelItem(t,e,o,i)},t}();e.FileUploader=a},function(t,e,o){"use strict";function i(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.rawFile=t;var e=i(t),o=e?t.value:t;this["_createFrom"+("string"==typeof o?"FakePath":"Object")](o)}return t.prototype._createFromFakePath=function(t){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},t.prototype._createFromObject=function(t){this.size=t.size,this.type=t.type,this.name=t.name},t}();e.FileLikeObject=n},function(t,e,o){"use strict";var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=o(0),s=o(1),p=function(){function t(t){this.onFileSelected=new r.EventEmitter,this.element=t}return t.prototype.getOptions=function(){return this.uploader.options},t.prototype.getFilters=function(){return{}},t.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},t.prototype.onChange=function(){var t=this.element.nativeElement.files,e=this.getOptions(),o=this.getFilters();this.uploader.addToQueue(t,e,o),this.onFileSelected.emit(t),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},i([r.Input(),n("design:type",s.FileUploader)],t.prototype,"uploader",void 0),i([r.Output(),n("design:type",r.EventEmitter)],t.prototype,"onFileSelected",void 0),i([r.HostListener("change"),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",Object)],t.prototype,"onChange",null),t=i([r.Directive({selector:"[ng2FileSelect]"}),n("design:paramtypes",[r.ElementRef])],t)}();e.FileSelectDirective=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(2),n=o(7),r=function(){function t(t,e,o){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this._chunkUploaders=[],this._currentChunk=0,this._totalChunks=0,this.uploader=t,this.some=e,this.options=o,this.file=new i.FileLikeObject(e),this._file=e,t.options&&(this.method=t.options.method||"POST",this.alias=t.options.itemAlias||"file"),this.url=t.options.url}return t.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},t.prototype.createFileChunk=function(t){this.fileChunks=new n.FileChunk(this._file,{byteStepSize:t}),this._currentChunk=this.fileChunks.currentChunk,this._totalChunks=this.fileChunks.totalChunks},t.prototype.getNextChunk=function(){return this.fileChunks.prepareNextChunk(),this.fileChunks.getCurrentRawFileChunk()},t.prototype.setIsUploading=function(t){this.isUploading=t,this.fileChunks&&this.fileChunks.setUploading(t)},Object.defineProperty(t.prototype,"fileChunks",{get:function(){return this._fileChunks},set:function(t){this._fileChunks=t},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this.uploader.cancelItem(this)},t.prototype.remove=function(){this.uploader.removeFromQueue(this)},t.prototype.onBeforeUpload=function(){},t.prototype.onBuildForm=function(t){return{form:t}},t.prototype.onProgress=function(t){return{progress:t}},t.prototype.onSuccess=function(t,e,o){return{response:t,status:e,headers:o}},t.prototype.onError=function(t,e,o){return{response:t,status:e,headers:o}},t.prototype.onCancel=function(t,e,o){return{response:t,status:e,headers:o}},t.prototype.onComplete=function(t,e,o){return{response:t,status:e,headers:o}},t.prototype.onCompleteChunk=function(t,e,o){return{response:t,status:e,headers:o}},t.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},t.prototype._onBuildForm=function(t){this.onBuildForm(t)},t.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},t.prototype._onSuccess=function(t,e,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(t,e,o)},t.prototype._onError=function(t,e,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(t,e,o)},t.prototype._onCancel=function(t,e,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(t,e,o)},t.prototype._onComplete=function(t,e,o){this.onComplete(t,e,o),this.uploader.options.removeAfterUpload&&this.remove()},t.prototype._onCompleteChunk=function(t,e,o){this._onCompleteChunkCallnext(),this.onCompleteChunk(t,e,o)},t.prototype._onCompleteChunkCallnext=function(){},t.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},t}();e.FileItem=r},function(t,e,o){"use strict";var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=o(0),s=o(1),p=function(){function t(t){this.fileOver=new r.EventEmitter,this.onFileDrop=new r.EventEmitter,this.element=t}return t.prototype.getOptions=function(){return this.uploader.options},t.prototype.getFilters=function(){return{}},t.prototype.onDrop=function(t){var e=this._getTransfer(t);if(e){var o=this.getOptions(),i=this.getFilters();this._preventAndStop(t),this.uploader.addToQueue(e.files,o,i),this.fileOver.emit(!1),this.onFileDrop.emit(e.files)}},t.prototype.onDragOver=function(t){var e=this._getTransfer(t);this._haveFiles(e.types)&&(e.dropEffect="copy",this._preventAndStop(t),this.fileOver.emit(!0))},t.prototype.onDragLeave=function(t){this.element&&t.currentTarget===this.element[0]||(this._preventAndStop(t),this.fileOver.emit(!1))},t.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},t.prototype._haveFiles=function(t){return!!t&&(t.indexOf?-1!==t.indexOf("Files"):!!t.contains&&t.contains("Files"))},i([r.Input(),n("design:type",s.FileUploader)],t.prototype,"uploader",void 0),i([r.Output(),n("design:type",r.EventEmitter)],t.prototype,"fileOver",void 0),i([r.Output(),n("design:type",r.EventEmitter)],t.prototype,"onFileDrop",void 0),i([r.HostListener("drop",["$event"]),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],t.prototype,"onDrop",null),i([r.HostListener("dragover",["$event"]),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",void 0)],t.prototype,"onDragOver",null),i([r.HostListener("dragleave",["$event"]),n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",Object)],t.prototype,"onDragLeave",null),t=i([r.Directive({selector:"[ng2FileDrop]"}),n("design:paramtypes",[r.ElementRef])],t)}();e.FileDropDirective=p},function(t,e,o){"use strict";function i(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),i(o(3)),i(o(5)),i(o(1)),i(o(4)),i(o(2));var n=o(9);e.FileUploadModule=n.FileUploadModule},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===e&&(e={}),this.stepSize=3145728,this.rawFile=null,this.uploadProgress=null,this.uploading=null,this.uploadComplete=null,this.byteStepSize=null,this.totalSize=null,this.startByte=null,this.endByte=null,this.currentChunk=0,this.totalChunks=null,this.uniqueIdentifier=null,this.totalSent=null,this.extraData={},void 0!==e&&void 0!==e.byteStepSize&&this.setByteStepSize(e.byteStepSize),this.setRawFile(t),this.setRawFile(t),this.setUploadProgress(0),this.setUploading(!1),this.setUploadComplete(!1),this.setTotalSize(this.getRawFile().size),this.setStartByte(0),this.setEndByte(this.getByteStepSize()),this.setCurrentChunk(0),this.getBrowserSliceMethod()?this.setTotalChunks(Math.ceil(this.totalSize/this.byteStepSize)):this.setTotalChunks(1),this.setUniqueIdenfier(this.generateUniqueIdentifier()),this.setTotalSent(0)}return t.prototype.setExtraData=function(t,e){this.extraData[t]=e},t.prototype.getExtraData=function(t){return this.extraData[t]},t.prototype.setProgress=function(t){this.uploadProgress=t},t.prototype.getProgress=function(){return this.uploadProgress},t.prototype.setUploading=function(t){this.uploading=t},t.prototype.getUploading=function(){return this.uploading},t.prototype.getUploadComplete=function(){return this.uploadComplete},t.prototype.setUploadComplete=function(t){this.uploadComplete=t},t.prototype.setUploadProgress=function(t){this.uploadProgress=t},t.prototype.getUploadProgress=function(){return this.uploadProgress},t.prototype.getStartByte=function(){return this.startByte},t.prototype.setStartByte=function(t){this.startByte=t},t.prototype.getEndByte=function(){return this.endByte},t.prototype.setEndByte=function(t){this.endByte=t},t.prototype.getByteStepSize=function(){return this.byteStepSize},t.prototype.setByteStepSize=function(t){this.byteStepSize=t},t.prototype.setTotalSize=function(t){this.totalSize=t},t.prototype.getTotalSize=function(){return this.totalSize},t.prototype.getRawFile=function(){return this.rawFile},t.prototype.setRawFile=function(t){this.rawFile=t},t.prototype.getCurrentChunk=function(){return this.currentChunk},t.prototype.setCurrentChunk=function(t){this.currentChunk=t},t.prototype.getTotalChunks=function(){return this.totalChunks},t.prototype.setTotalChunks=function(t){this.totalChunks=t},t.prototype.setUniqueIdenfier=function(t){this.uniqueIdentifier=t},t.prototype.getUniqueIdenfier=function(){return this.uniqueIdentifier},t.prototype.getRawFileExtension=function(){var t=this.getRawFileName().split(".");return t[t.length-1]},t.prototype.getRawFileName=function(){return this.getRawFile().name},t.prototype.getContentType=function(){return this.getRawFile().type},t.prototype.getTotalSent=function(){return this.totalSent},t.prototype.setTotalSent=function(t){this.totalSent=t},t.prototype.getCurrentRawFileChunk=function(){return this.getBrowserSliceMethod()?this.getRawFile()[this.getBrowserSliceMethod()](this.getStartByte(),this.getEndByte()):this.getRawFile()},t.prototype.retrocedeChunk=function(){if(!this.getBrowserSliceMethod())return!1;this.setEndByte(this.getStartByte()),this.setStartByte(this.getStartByte()-this.getByteStepSize()),this.setCurrentChunk(this.getCurrentChunk()-1),0!=this.getTotalSent()&&this.setTotalSent(this.getTotalSent()-this.getByteStepSize())},t.prototype.prepareNextChunk=function(){return!!this.getBrowserSliceMethod()&&(!(this.getEndByte()>this.getTotalSize())&&(this.setStartByte(this.getEndByte()),this.setEndByte(this.getEndByte()+this.getByteStepSize()),this.setCurrentChunk(this.getCurrentChunk()+1),!0))},t.prototype.getBrowserSliceMethod=function(){return this.rawFile&&void 0!==this.rawFile?this.rawFile.slice&&"function"==typeof this.rawFile.slice?"slice":this.rawFile.mozSlice&&"function"==typeof this.rawFile.mozSlice?"mozSlice":this.rawFile.webkitSlice&&"function"==typeof this.rawFile.webkitSlice?"webkitSlice":void 0:null},t.prototype.generateUniqueIdentifier=function(){var t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?o:3&o|8).toString(16)})},t}();e.FileChunk=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getMimeClass=function(t){var e="application";return-1!==this.mime_psd.indexOf(t.type)?e="image":t.type.match("image.*")?e="image":t.type.match("video.*")?e="video":t.type.match("audio.*")?e="audio":"application/pdf"===t.type?e="pdf":-1!==this.mime_compress.indexOf(t.type)?e="compress":-1!==this.mime_doc.indexOf(t.type)?e="doc":-1!==this.mime_xsl.indexOf(t.type)?e="xls":-1!==this.mime_ppt.indexOf(t.type)&&(e="ppt"),"application"===e&&(e=this.fileTypeDetection(t.name)),e},t.fileTypeDetection=function(t){var e={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},o=t.split(".");if(o.length<2)return"application";var i=o[o.length-1].toLowerCase();return void 0===e[i]?"application":e[i]},t.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],t.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],t.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],t.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],t.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],t}();e.FileType=i},function(t,e,o){"use strict";var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0});var n=o(10),r=o(0),s=o(5),p=o(3),a=function(){function t(){}return t=i([r.NgModule({imports:[n.CommonModule],declarations:[s.FileDropDirective,p.FileSelectDirective],exports:[s.FileDropDirective,p.FileSelectDirective]})],t)}();e.FileUploadModule=a},function(t,o){t.exports=e}])});
//# sourceMappingURL=index.umd.min.js.map